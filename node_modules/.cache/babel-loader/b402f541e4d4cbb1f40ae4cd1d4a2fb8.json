{"ast":null,"code":"import _classCallCheck from\"/home/ali/Desktop/pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ali/Desktop/pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/ali/Desktop/pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/ali/Desktop/pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/ali/Desktop/pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./History.css';import axios from'axios';import moment from'moment';var History=/*#__PURE__*/function(_Component){_inherits(History,_Component);var _super=_createSuper(History);function History(){var _this;_classCallCheck(this,History);_this=_super.call(this);_this.state={todayprice:{},yesterdayprice:{},twodaysprice:{},threedaysprice:{},fourdaysprice:{}};_this.getBTCPrices=_this.getBTCPrices.bind(_assertThisInitialized(_this));_this.getETHPrices=_this.getETHPrices.bind(_assertThisInitialized(_this));_this.getLTCPrices=_this.getLTCPrices.bind(_assertThisInitialized(_this));return _this;}// This function gets the ETH price for a specific timestamp/date. The date is passed in as an argument\n_createClass(History,[{key:\"getETHPrices\",value:function getETHPrices(date){return axios.get('https://min-api.cryptocompare.com/data/pricehistorical?fsym=ETH&tsyms=USD&ts='+date);}// This function gets the BTC price for a specific timestamp/date. The date is passed in as an argument\n},{key:\"getBTCPrices\",value:function getBTCPrices(date){return axios.get('https://min-api.cryptocompare.com/data/pricehistorical?fsym=BTC&tsyms=USD&ts='+date);}// This function gets the LTC price for a specific timestamp/date. The date is passed in as an argument\n},{key:\"getLTCPrices\",value:function getLTCPrices(date){return axios.get('https://min-api.cryptocompare.com/data/pricehistorical?fsym=LTC&tsyms=USD&ts='+date);}// This function gets the prices for the current date.\n},{key:\"getTodayPrice\",value:function getTodayPrice(){var _this2=this;// Get today's date in timestamp\nvar t=moment().unix();// axios.all is used to make concurrent API requests. These requests were the functions we first created and they accept an argument of the date required.\naxios.all([this.getETHPrices(t),this.getBTCPrices(t),this.getLTCPrices(t)]).then(axios.spread(function(eth,btc,ltc){console.log(eth.data,btc.data,ltc.data);var f={date:moment.unix(t).format(\"MMMM Do YYYY\"),eth:eth.data.ETH.USD,btc:btc.data.BTC.USD,ltc:ltc.data.LTC.USD};localStorage.setItem('todayprice',JSON.stringify(f));// Set the state of todayprice to the content of the object f\n_this2.setState({todayprice:f});}));}// This function gets the prices for the yesterday.\n},{key:\"getYesterdayPrice\",value:function getYesterdayPrice(){var _this3=this;// Get yesterday's date in timestamp\nvar t=moment().subtract(1,'days').unix();// axios.all is used to make concurrent API requests. These requests were the functions we first created and they accept an argument of the date required.\naxios.all([this.getETHPrices(t),this.getBTCPrices(t),this.getLTCPrices(t)]).then(axios.spread(function(eth,btc,ltc){var f={date:moment.unix(t).format(\"MMMM Do YYYY\"),eth:eth.data.ETH.USD,btc:btc.data.BTC.USD,ltc:ltc.data.LTC.USD};localStorage.setItem('yesterdayprice',JSON.stringify(f));// Set the state of yesterdayprice to the content of the object f\n_this3.setState({yesterdayprice:f});}));}// This function gets the prices for the two days ago.\n},{key:\"getTwoDaysPrice\",value:function getTwoDaysPrice(){var _this4=this;// Get the date for two days ago in timestamp\nvar t=moment().subtract(2,'days').unix();// axios.all is used to make concurrent API requests. These requests were the functions we first created and they accept an argument of the date required.\naxios.all([this.getETHPrices(t),this.getBTCPrices(t),this.getLTCPrices(t)]).then(axios.spread(function(eth,btc,ltc){var f={date:moment.unix(t).format(\"MMMM Do YYYY\"),eth:eth.data.ETH.USD,btc:btc.data.BTC.USD,ltc:ltc.data.LTC.USD};localStorage.setItem('twodaysprice',JSON.stringify(f));// Set the state of twodaysprice to the content of the object f\n_this4.setState({twodaysprice:f});}));}// This function gets the prices for the three days ago.\n},{key:\"getThreeDaysPrice\",value:function getThreeDaysPrice(){var _this5=this;// Get the date for three days ago in timestamp\nvar t=moment().subtract(3,'days').unix();// axios.all is used to make concurrent API requests. These requests were the functions we first created and they accept an argument of the date required.\naxios.all([this.getETHPrices(t),this.getBTCPrices(t),this.getLTCPrices(t)]).then(axios.spread(function(eth,btc,ltc){console.log(eth.data,btc.data,ltc.data);var f={date:moment.unix(t).format(\"MMMM Do YYYY\"),eth:eth.data.ETH.USD,btc:btc.data.BTC.USD,ltc:ltc.data.LTC.USD};localStorage.setItem('threedaysprice',JSON.stringify(f));// Set the state of threedaysprice to the content of the object f\n_this5.setState({threedaysprice:f});}));}// This function gets the prices for the four days ago.\n},{key:\"getFourDaysPrice\",value:function getFourDaysPrice(){var _this6=this;// Get the date for four days ago in timestamp\nvar t=moment().subtract(4,'days').unix();// axios.all is used to make concurrent API requests. These requests were the functions we first created and they accept an argument of the date required.\naxios.all([this.getETHPrices(t),this.getBTCPrices(t),this.getLTCPrices(t)]).then(axios.spread(function(eth,btc,ltc){var f={date:moment.unix(t).format(\"MMMM Do YYYY\"),eth:eth.data.ETH.USD,btc:btc.data.BTC.USD,ltc:ltc.data.LTC.USD};localStorage.setItem('fourdaysprice',JSON.stringify(f));// Set the state of fourdaysprice to the content of the object f\n_this6.setState({fourdaysprice:f});}));}// This is called when an instance of a component is being created and inserted into the DOM.\n},{key:\"componentWillMount\",value:function componentWillMount(){this.getTodayPrice();this.getYesterdayPrice();this.getTwoDaysPrice();this.getThreeDaysPrice();this.getFourDaysPrice();}},{key:\"componentDidMount\",value:function componentDidMount(){if(!navigator.onLine){this.setState({todayprice:JSON.parse(localStorage.getItem('todayprice'))});this.setState({yesterdayprice:JSON.parse(localStorage.getItem('yesterdayprice'))});this.setState({twodaysprice:JSON.parse(localStorage.getItem('twodaysprice'))});this.setState({threedaysprice:JSON.parse(localStorage.getItem('threedaysprice'))});this.setState({fourdaysprice:JSON.parse(localStorage.getItem('fourdaysprice'))});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"history--section container\"},/*#__PURE__*/React.createElement(\"h2\",null,\"History (Past 5 days)\"),/*#__PURE__*/React.createElement(\"div\",{className:\"history--section__box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"history--section__box__inner\"},/*#__PURE__*/React.createElement(\"h4\",null,this.state.todayprice.date),/*#__PURE__*/React.createElement(\"div\",{className:\"columns\"},/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"p\",null,\"1 BTC = $\",this.state.todayprice.btc)),/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"p\",null,\"1 ETH = $\",this.state.todayprice.eth)),/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"p\",null,\"1 LTC = $\",this.state.todayprice.ltc)))),/*#__PURE__*/React.createElement(\"div\",{className:\"history--section__box__inner\"},/*#__PURE__*/React.createElement(\"h4\",null,this.state.yesterdayprice.date),/*#__PURE__*/React.createElement(\"div\",{className:\"columns\"},/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"p\",null,\"1 BTC = $\",this.state.yesterdayprice.btc)),/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"p\",null,\"1 ETH = $\",this.state.yesterdayprice.eth)),/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"p\",null,\"1 LTC = $\",this.state.yesterdayprice.ltc)))),/*#__PURE__*/React.createElement(\"div\",{className:\"history--section__box__inner\"},/*#__PURE__*/React.createElement(\"h4\",null,this.state.twodaysprice.date),/*#__PURE__*/React.createElement(\"div\",{className:\"columns\"},/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"p\",null,\"1 BTC = $\",this.state.twodaysprice.btc)),/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"p\",null,\"1 ETH = $\",this.state.twodaysprice.eth)),/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"p\",null,\"1 LTC = $\",this.state.twodaysprice.ltc)))),/*#__PURE__*/React.createElement(\"div\",{className:\"history--section__box__inner\"},/*#__PURE__*/React.createElement(\"h4\",null,this.state.threedaysprice.date),/*#__PURE__*/React.createElement(\"div\",{className:\"columns\"},/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"p\",null,\"1 BTC = $\",this.state.threedaysprice.btc)),/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"p\",null,\"1 ETH = $\",this.state.threedaysprice.eth)),/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"p\",null,\"1 LTC = $\",this.state.threedaysprice.ltc)))),/*#__PURE__*/React.createElement(\"div\",{className:\"history--section__box__inner\"},/*#__PURE__*/React.createElement(\"h4\",null,this.state.fourdaysprice.date),/*#__PURE__*/React.createElement(\"div\",{className:\"columns\"},/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"p\",null,\"1 BTC = $\",this.state.fourdaysprice.btc)),/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"p\",null,\"1 ETH = $\",this.state.fourdaysprice.eth)),/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"p\",null,\"1 LTC = $\",this.state.fourdaysprice.ltc))))));}}]);return History;}(Component);export{History as default};","map":{"version":3,"sources":["/home/ali/Desktop/pwa/src/History.js"],"names":["React","Component","axios","moment","History","state","todayprice","yesterdayprice","twodaysprice","threedaysprice","fourdaysprice","getBTCPrices","bind","getETHPrices","getLTCPrices","date","get","t","unix","all","then","spread","eth","btc","ltc","console","log","data","f","format","ETH","USD","BTC","LTC","localStorage","setItem","JSON","stringify","setState","subtract","getTodayPrice","getYesterdayPrice","getTwoDaysPrice","getThreeDaysPrice","getFourDaysPrice","navigator","onLine","parse","getItem"],"mappings":"4rBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,C,GAEqBC,CAAAA,O,kGACjB,kBAAe,yCACX,wBACA,MAAKC,KAAL,CAAa,CACTC,UAAU,CAAE,EADH,CAETC,cAAc,CAAE,EAFP,CAGTC,YAAY,CAAE,EAHL,CAITC,cAAc,CAAE,EAJP,CAKTC,aAAa,CAAE,EALN,CAAb,CAOA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB,CACA,MAAKE,YAAL,CAAoB,MAAKA,YAAL,CAAkBF,IAAlB,+BAApB,CAXW,aAYd,CACD;sEACcG,I,CAAM,CAChB,MAAOb,CAAAA,KAAK,CAACc,GAAN,CAAU,gFAAkFD,IAA5F,CAAP,CACH,CACD;kDACcA,I,CAAM,CAChB,MAAOb,CAAAA,KAAK,CAACc,GAAN,CAAU,gFAAkFD,IAA5F,CAAP,CACH,CACD;kDACcA,I,CAAM,CAChB,MAAOb,CAAAA,KAAK,CAACc,GAAN,CAAU,gFAAkFD,IAA5F,CAAP,CACH,CACD;qDACiB,iBACb;AACA,GAAIE,CAAAA,CAAC,CAAGd,MAAM,GAAGe,IAAT,EAAR,CACA;AACAhB,KAAK,CAACiB,GAAN,CAAU,CAAC,KAAKN,YAAL,CAAkBI,CAAlB,CAAD,CAAuB,KAAKN,YAAL,CAAkBM,CAAlB,CAAvB,CAA6C,KAAKH,YAAL,CAAkBG,CAAlB,CAA7C,CAAV,EACKG,IADL,CACUlB,KAAK,CAACmB,MAAN,CAAa,SAACC,GAAD,CAAMC,GAAN,CAAWC,GAAX,CAAmB,CAClCC,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACK,IAAhB,CAAqBJ,GAAG,CAACI,IAAzB,CAA8BH,GAAG,CAACG,IAAlC,EACA,GAAIC,CAAAA,CAAC,CAAG,CACJb,IAAI,CAAEZ,MAAM,CAACe,IAAP,CAAYD,CAAZ,EAAeY,MAAf,CAAsB,cAAtB,CADF,CAEJP,GAAG,CAAEA,GAAG,CAACK,IAAJ,CAASG,GAAT,CAAaC,GAFd,CAGJR,GAAG,CAAEA,GAAG,CAACI,IAAJ,CAASK,GAAT,CAAaD,GAHd,CAIJP,GAAG,CAAEA,GAAG,CAACG,IAAJ,CAASM,GAAT,CAAaF,GAJd,CAAR,CAMAG,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAmCC,IAAI,CAACC,SAAL,CAAeT,CAAf,CAAnC,EACA;AACA,MAAI,CAACU,QAAL,CAAc,CAAEhC,UAAU,CAAEsB,CAAd,CAAd,EACH,CAXK,CADV,EAaH,CACD;6DACqB,iBACjB;AACA,GAAIX,CAAAA,CAAC,CAAGd,MAAM,GAAGoC,QAAT,CAAkB,CAAlB,CAAqB,MAArB,EAA6BrB,IAA7B,EAAR,CACA;AACAhB,KAAK,CAACiB,GAAN,CAAU,CAAC,KAAKN,YAAL,CAAkBI,CAAlB,CAAD,CAAuB,KAAKN,YAAL,CAAkBM,CAAlB,CAAvB,CAA6C,KAAKH,YAAL,CAAkBG,CAAlB,CAA7C,CAAV,EACKG,IADL,CACUlB,KAAK,CAACmB,MAAN,CAAa,SAACC,GAAD,CAAMC,GAAN,CAAWC,GAAX,CAAmB,CAClC,GAAII,CAAAA,CAAC,CAAG,CACJb,IAAI,CAAEZ,MAAM,CAACe,IAAP,CAAYD,CAAZ,EAAeY,MAAf,CAAsB,cAAtB,CADF,CAEJP,GAAG,CAAEA,GAAG,CAACK,IAAJ,CAASG,GAAT,CAAaC,GAFd,CAGJR,GAAG,CAAEA,GAAG,CAACI,IAAJ,CAASK,GAAT,CAAaD,GAHd,CAIJP,GAAG,CAAEA,GAAG,CAACG,IAAJ,CAASM,GAAT,CAAaF,GAJd,CAAR,CAMAG,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAuCC,IAAI,CAACC,SAAL,CAAeT,CAAf,CAAvC,EACA;AACA,MAAI,CAACU,QAAL,CAAc,CAAE/B,cAAc,CAAEqB,CAAlB,CAAd,EACH,CAVK,CADV,EAYH,CACD;yDACmB,iBACf;AACA,GAAIX,CAAAA,CAAC,CAAGd,MAAM,GAAGoC,QAAT,CAAkB,CAAlB,CAAqB,MAArB,EAA6BrB,IAA7B,EAAR,CACA;AACAhB,KAAK,CAACiB,GAAN,CAAU,CAAC,KAAKN,YAAL,CAAkBI,CAAlB,CAAD,CAAuB,KAAKN,YAAL,CAAkBM,CAAlB,CAAvB,CAA6C,KAAKH,YAAL,CAAkBG,CAAlB,CAA7C,CAAV,EACKG,IADL,CACUlB,KAAK,CAACmB,MAAN,CAAa,SAACC,GAAD,CAAMC,GAAN,CAAWC,GAAX,CAAmB,CAClC,GAAII,CAAAA,CAAC,CAAG,CACJb,IAAI,CAAEZ,MAAM,CAACe,IAAP,CAAYD,CAAZ,EAAeY,MAAf,CAAsB,cAAtB,CADF,CAEJP,GAAG,CAAEA,GAAG,CAACK,IAAJ,CAASG,GAAT,CAAaC,GAFd,CAGJR,GAAG,CAAEA,GAAG,CAACI,IAAJ,CAASK,GAAT,CAAaD,GAHd,CAIJP,GAAG,CAAEA,GAAG,CAACG,IAAJ,CAASM,GAAT,CAAaF,GAJd,CAAR,CAMAG,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAqCC,IAAI,CAACC,SAAL,CAAeT,CAAf,CAArC,EACA;AACA,MAAI,CAACU,QAAL,CAAc,CAAE9B,YAAY,CAAEoB,CAAhB,CAAd,EACH,CAVK,CADV,EAYH,CACD;6DACqB,iBACjB;AACA,GAAIX,CAAAA,CAAC,CAAGd,MAAM,GAAGoC,QAAT,CAAkB,CAAlB,CAAqB,MAArB,EAA6BrB,IAA7B,EAAR,CACA;AACAhB,KAAK,CAACiB,GAAN,CAAU,CAAC,KAAKN,YAAL,CAAkBI,CAAlB,CAAD,CAAuB,KAAKN,YAAL,CAAkBM,CAAlB,CAAvB,CAA6C,KAAKH,YAAL,CAAkBG,CAAlB,CAA7C,CAAV,EACKG,IADL,CACUlB,KAAK,CAACmB,MAAN,CAAa,SAACC,GAAD,CAAMC,GAAN,CAAWC,GAAX,CAAmB,CAClCC,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACK,IAAhB,CAAqBJ,GAAG,CAACI,IAAzB,CAA8BH,GAAG,CAACG,IAAlC,EACA,GAAIC,CAAAA,CAAC,CAAG,CACJb,IAAI,CAAEZ,MAAM,CAACe,IAAP,CAAYD,CAAZ,EAAeY,MAAf,CAAsB,cAAtB,CADF,CAEJP,GAAG,CAAEA,GAAG,CAACK,IAAJ,CAASG,GAAT,CAAaC,GAFd,CAGJR,GAAG,CAAEA,GAAG,CAACI,IAAJ,CAASK,GAAT,CAAaD,GAHd,CAIJP,GAAG,CAAEA,GAAG,CAACG,IAAJ,CAASM,GAAT,CAAaF,GAJd,CAAR,CAMAG,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAuCC,IAAI,CAACC,SAAL,CAAeT,CAAf,CAAvC,EACA;AACA,MAAI,CAACU,QAAL,CAAc,CAAE7B,cAAc,CAAEmB,CAAlB,CAAd,EACH,CAXK,CADV,EAaH,CACD;2DACoB,iBAChB;AACA,GAAIX,CAAAA,CAAC,CAAGd,MAAM,GAAGoC,QAAT,CAAkB,CAAlB,CAAqB,MAArB,EAA6BrB,IAA7B,EAAR,CACA;AACAhB,KAAK,CAACiB,GAAN,CAAU,CAAC,KAAKN,YAAL,CAAkBI,CAAlB,CAAD,CAAuB,KAAKN,YAAL,CAAkBM,CAAlB,CAAvB,CAA6C,KAAKH,YAAL,CAAkBG,CAAlB,CAA7C,CAAV,EACKG,IADL,CACUlB,KAAK,CAACmB,MAAN,CAAa,SAACC,GAAD,CAAMC,GAAN,CAAWC,GAAX,CAAmB,CAClC,GAAII,CAAAA,CAAC,CAAG,CACJb,IAAI,CAAEZ,MAAM,CAACe,IAAP,CAAYD,CAAZ,EAAeY,MAAf,CAAsB,cAAtB,CADF,CAEJP,GAAG,CAAEA,GAAG,CAACK,IAAJ,CAASG,GAAT,CAAaC,GAFd,CAGJR,GAAG,CAAEA,GAAG,CAACI,IAAJ,CAASK,GAAT,CAAaD,GAHd,CAIJP,GAAG,CAAEA,GAAG,CAACG,IAAJ,CAASM,GAAT,CAAaF,GAJd,CAAR,CAMAG,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAsCC,IAAI,CAACC,SAAL,CAAeT,CAAf,CAAtC,EACA;AACA,MAAI,CAACU,QAAL,CAAc,CAAE5B,aAAa,CAAEkB,CAAjB,CAAd,EACH,CAVK,CADV,EAYH,CACD;+DACsB,CAClB,KAAKY,aAAL,GACA,KAAKC,iBAAL,GACA,KAAKC,eAAL,GACA,KAAKC,iBAAL,GACA,KAAKC,gBAAL,GACH,C,6DAEmB,CAChB,GAAI,CAACC,SAAS,CAACC,MAAf,CAAuB,CACnB,KAAKR,QAAL,CAAc,CAAEhC,UAAU,CAAE8B,IAAI,CAACW,KAAL,CAAWb,YAAY,CAACc,OAAb,CAAqB,YAArB,CAAX,CAAd,CAAd,EACA,KAAKV,QAAL,CAAc,CAAE/B,cAAc,CAAE6B,IAAI,CAACW,KAAL,CAAWb,YAAY,CAACc,OAAb,CAAqB,gBAArB,CAAX,CAAlB,CAAd,EACA,KAAKV,QAAL,CAAc,CAAE9B,YAAY,CAAE4B,IAAI,CAACW,KAAL,CAAWb,YAAY,CAACc,OAAb,CAAqB,cAArB,CAAX,CAAhB,CAAd,EACA,KAAKV,QAAL,CAAc,CAAE7B,cAAc,CAAE2B,IAAI,CAACW,KAAL,CAAWb,YAAY,CAACc,OAAb,CAAqB,gBAArB,CAAX,CAAlB,CAAd,EACA,KAAKV,QAAL,CAAc,CAAE5B,aAAa,CAAE0B,IAAI,CAACW,KAAL,CAAWb,YAAY,CAACc,OAAb,CAAqB,eAArB,CAAX,CAAjB,CAAd,EACH,CACJ,C,uCAEQ,CACL,mBACI,2BAAK,SAAS,CAAC,4BAAf,eACI,sDADJ,cAEI,2BAAK,SAAS,CAAC,uBAAf,eACI,2BAAK,SAAS,CAAC,8BAAf,eACI,8BAAK,KAAK3C,KAAL,CAAWC,UAAX,CAAsBS,IAA3B,CADJ,cAEI,2BAAK,SAAS,CAAC,SAAf,eACI,2BAAK,SAAS,CAAC,QAAf,eACI,yCAAa,KAAKV,KAAL,CAAWC,UAAX,CAAsBiB,GAAnC,CADJ,CADJ,cAII,2BAAK,SAAS,CAAC,QAAf,eACI,yCAAa,KAAKlB,KAAL,CAAWC,UAAX,CAAsBgB,GAAnC,CADJ,CAJJ,cAOI,2BAAK,SAAS,CAAC,QAAf,eACI,yCAAa,KAAKjB,KAAL,CAAWC,UAAX,CAAsBkB,GAAnC,CADJ,CAPJ,CAFJ,CADJ,cAeI,2BAAK,SAAS,CAAC,8BAAf,eACI,8BAAK,KAAKnB,KAAL,CAAWE,cAAX,CAA0BQ,IAA/B,CADJ,cAEI,2BAAK,SAAS,CAAC,SAAf,eACI,2BAAK,SAAS,CAAC,QAAf,eACI,yCAAa,KAAKV,KAAL,CAAWE,cAAX,CAA0BgB,GAAvC,CADJ,CADJ,cAII,2BAAK,SAAS,CAAC,QAAf,eACI,yCAAa,KAAKlB,KAAL,CAAWE,cAAX,CAA0Be,GAAvC,CADJ,CAJJ,cAOI,2BAAK,SAAS,CAAC,QAAf,eACI,yCAAa,KAAKjB,KAAL,CAAWE,cAAX,CAA0BiB,GAAvC,CADJ,CAPJ,CAFJ,CAfJ,cA6BI,2BAAK,SAAS,CAAC,8BAAf,eACI,8BAAK,KAAKnB,KAAL,CAAWG,YAAX,CAAwBO,IAA7B,CADJ,cAEI,2BAAK,SAAS,CAAC,SAAf,eACI,2BAAK,SAAS,CAAC,QAAf,eACI,yCAAa,KAAKV,KAAL,CAAWG,YAAX,CAAwBe,GAArC,CADJ,CADJ,cAII,2BAAK,SAAS,CAAC,QAAf,eACI,yCAAa,KAAKlB,KAAL,CAAWG,YAAX,CAAwBc,GAArC,CADJ,CAJJ,cAOI,2BAAK,SAAS,CAAC,QAAf,eACI,yCAAa,KAAKjB,KAAL,CAAWG,YAAX,CAAwBgB,GAArC,CADJ,CAPJ,CAFJ,CA7BJ,cA2CI,2BAAK,SAAS,CAAC,8BAAf,eACI,8BAAK,KAAKnB,KAAL,CAAWI,cAAX,CAA0BM,IAA/B,CADJ,cAEI,2BAAK,SAAS,CAAC,SAAf,eACI,2BAAK,SAAS,CAAC,QAAf,eACI,yCAAa,KAAKV,KAAL,CAAWI,cAAX,CAA0Bc,GAAvC,CADJ,CADJ,cAII,2BAAK,SAAS,CAAC,QAAf,eACI,yCAAa,KAAKlB,KAAL,CAAWI,cAAX,CAA0Ba,GAAvC,CADJ,CAJJ,cAOI,2BAAK,SAAS,CAAC,QAAf,eACI,yCAAa,KAAKjB,KAAL,CAAWI,cAAX,CAA0Be,GAAvC,CADJ,CAPJ,CAFJ,CA3CJ,cAyDI,2BAAK,SAAS,CAAC,8BAAf,eACI,8BAAK,KAAKnB,KAAL,CAAWK,aAAX,CAAyBK,IAA9B,CADJ,cAEI,2BAAK,SAAS,CAAC,SAAf,eACI,2BAAK,SAAS,CAAC,QAAf,eACI,yCAAa,KAAKV,KAAL,CAAWK,aAAX,CAAyBa,GAAtC,CADJ,CADJ,cAII,2BAAK,SAAS,CAAC,QAAf,eACI,yCAAa,KAAKlB,KAAL,CAAWK,aAAX,CAAyBY,GAAtC,CADJ,CAJJ,cAOI,2BAAK,SAAS,CAAC,QAAf,eACI,yCAAa,KAAKjB,KAAL,CAAWK,aAAX,CAAyBc,GAAtC,CADJ,CAPJ,CAFJ,CAzDJ,CAFJ,CADJ,CA8EH,C,qBAxNgCvB,S,SAAhBG,O","sourcesContent":["import React, { Component } from 'react';\nimport './History.css'\nimport axios from 'axios'\nimport moment from 'moment'\n\nexport default class History extends Component {\n    constructor () {\n        super();\n        this.state = {\n            todayprice: {},\n            yesterdayprice: {},\n            twodaysprice: {},\n            threedaysprice: {},\n            fourdaysprice: {}\n        }\n        this.getBTCPrices = this.getBTCPrices.bind(this);\n        this.getETHPrices = this.getETHPrices.bind(this);\n        this.getLTCPrices = this.getLTCPrices.bind(this);\n    }\n    // This function gets the ETH price for a specific timestamp/date. The date is passed in as an argument\n    getETHPrices (date) {\n        return axios.get('https://min-api.cryptocompare.com/data/pricehistorical?fsym=ETH&tsyms=USD&ts=' + date);\n    }\n    // This function gets the BTC price for a specific timestamp/date. The date is passed in as an argument\n    getBTCPrices (date) {\n        return axios.get('https://min-api.cryptocompare.com/data/pricehistorical?fsym=BTC&tsyms=USD&ts=' + date);\n    }\n    // This function gets the LTC price for a specific timestamp/date. The date is passed in as an argument\n    getLTCPrices (date) {\n        return axios.get('https://min-api.cryptocompare.com/data/pricehistorical?fsym=LTC&tsyms=USD&ts=' + date);\n    }\n    // This function gets the prices for the current date.\n    getTodayPrice () {\n        // Get today's date in timestamp\n        let t = moment().unix()\n        // axios.all is used to make concurrent API requests. These requests were the functions we first created and they accept an argument of the date required.\n        axios.all([this.getETHPrices(t), this.getBTCPrices(t), this.getLTCPrices(t)])\n            .then(axios.spread((eth, btc, ltc) => {\n                console.log(eth.data,btc.data,ltc.data);\n                let f = {\n                    date: moment.unix(t).format(\"MMMM Do YYYY\"),\n                    eth: eth.data.ETH.USD,\n                    btc: btc.data.BTC.USD,\n                    ltc: ltc.data.LTC.USD\n                }\n                localStorage.setItem('todayprice', JSON.stringify(f));\n                // Set the state of todayprice to the content of the object f\n                this.setState({ todayprice: f });\n            }));\n    }\n    // This function gets the prices for the yesterday.\n    getYesterdayPrice () {\n        // Get yesterday's date in timestamp\n        let t = moment().subtract(1, 'days').unix();\n        // axios.all is used to make concurrent API requests. These requests were the functions we first created and they accept an argument of the date required.\n        axios.all([this.getETHPrices(t), this.getBTCPrices(t), this.getLTCPrices(t)])\n            .then(axios.spread((eth, btc, ltc) => {\n                let f = {\n                    date: moment.unix(t).format(\"MMMM Do YYYY\"),\n                    eth: eth.data.ETH.USD,\n                    btc: btc.data.BTC.USD,\n                    ltc: ltc.data.LTC.USD\n                }\n                localStorage.setItem('yesterdayprice', JSON.stringify(f));\n                // Set the state of yesterdayprice to the content of the object f\n                this.setState({ yesterdayprice: f });\n            }));\n    }\n    // This function gets the prices for the two days ago.\n    getTwoDaysPrice () {\n        // Get the date for two days ago in timestamp\n        let t = moment().subtract(2, 'days').unix();\n        // axios.all is used to make concurrent API requests. These requests were the functions we first created and they accept an argument of the date required.\n        axios.all([this.getETHPrices(t), this.getBTCPrices(t), this.getLTCPrices(t)])\n            .then(axios.spread((eth, btc, ltc) => {\n                let f = {\n                    date: moment.unix(t).format(\"MMMM Do YYYY\"),\n                    eth: eth.data.ETH.USD,\n                    btc: btc.data.BTC.USD,\n                    ltc: ltc.data.LTC.USD\n                }\n                localStorage.setItem('twodaysprice', JSON.stringify(f));\n                // Set the state of twodaysprice to the content of the object f\n                this.setState({ twodaysprice: f });\n            }));\n    }\n    // This function gets the prices for the three days ago.\n    getThreeDaysPrice () {\n        // Get the date for three days ago in timestamp\n        let t = moment().subtract(3, 'days').unix();\n        // axios.all is used to make concurrent API requests. These requests were the functions we first created and they accept an argument of the date required.\n        axios.all([this.getETHPrices(t), this.getBTCPrices(t), this.getLTCPrices(t)])\n            .then(axios.spread((eth, btc, ltc) => {\n                console.log(eth.data,btc.data,ltc.data);\n                let f = {\n                    date: moment.unix(t).format(\"MMMM Do YYYY\"),\n                    eth: eth.data.ETH.USD,\n                    btc: btc.data.BTC.USD,\n                    ltc: ltc.data.LTC.USD\n                }\n                localStorage.setItem('threedaysprice', JSON.stringify(f));\n                // Set the state of threedaysprice to the content of the object f\n                this.setState({ threedaysprice: f });\n            }));\n    }\n    // This function gets the prices for the four days ago.\n    getFourDaysPrice () {\n        // Get the date for four days ago in timestamp\n        let t = moment().subtract(4, 'days').unix();\n        // axios.all is used to make concurrent API requests. These requests were the functions we first created and they accept an argument of the date required.\n        axios.all([this.getETHPrices(t), this.getBTCPrices(t), this.getLTCPrices(t)])\n            .then(axios.spread((eth, btc, ltc) => {\n                let f = {\n                    date: moment.unix(t).format(\"MMMM Do YYYY\"),\n                    eth: eth.data.ETH.USD,\n                    btc: btc.data.BTC.USD,\n                    ltc: ltc.data.LTC.USD\n                }\n                localStorage.setItem('fourdaysprice', JSON.stringify(f));\n                // Set the state of fourdaysprice to the content of the object f\n                this.setState({ fourdaysprice: f });\n            }));\n    }\n    // This is called when an instance of a component is being created and inserted into the DOM.\n    componentWillMount () {\n        this.getTodayPrice();\n        this.getYesterdayPrice();\n        this.getTwoDaysPrice();\n        this.getThreeDaysPrice();\n        this.getFourDaysPrice();\n    }\n\n    componentDidMount() {\n        if (!navigator.onLine) {\n            this.setState({ todayprice: JSON.parse(localStorage.getItem('todayprice')) });\n            this.setState({ yesterdayprice: JSON.parse(localStorage.getItem('yesterdayprice')) });\n            this.setState({ twodaysprice: JSON.parse(localStorage.getItem('twodaysprice')) });\n            this.setState({ threedaysprice: JSON.parse(localStorage.getItem('threedaysprice')) });\n            this.setState({ fourdaysprice: JSON.parse(localStorage.getItem('fourdaysprice')) });\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"history--section container\">\n                <h2>History (Past 5 days)</h2>\n                <div className=\"history--section__box\">\n                    <div className=\"history--section__box__inner\">\n                        <h4>{this.state.todayprice.date}</h4>\n                        <div className=\"columns\">\n                            <div className=\"column\">\n                                <p>1 BTC = ${this.state.todayprice.btc}</p>\n                            </div>\n                            <div className=\"column\">\n                                <p>1 ETH = ${this.state.todayprice.eth}</p>\n                            </div>\n                            <div className=\"column\">\n                                <p>1 LTC = ${this.state.todayprice.ltc}</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"history--section__box__inner\">\n                        <h4>{this.state.yesterdayprice.date}</h4>\n                        <div className=\"columns\">\n                            <div className=\"column\">\n                                <p>1 BTC = ${this.state.yesterdayprice.btc}</p>\n                            </div>\n                            <div className=\"column\">\n                                <p>1 ETH = ${this.state.yesterdayprice.eth}</p>\n                            </div>\n                            <div className=\"column\">\n                                <p>1 LTC = ${this.state.yesterdayprice.ltc}</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"history--section__box__inner\">\n                        <h4>{this.state.twodaysprice.date}</h4>\n                        <div className=\"columns\">\n                            <div className=\"column\">\n                                <p>1 BTC = ${this.state.twodaysprice.btc}</p>\n                            </div>\n                            <div className=\"column\">\n                                <p>1 ETH = ${this.state.twodaysprice.eth}</p>\n                            </div>\n                            <div className=\"column\">\n                                <p>1 LTC = ${this.state.twodaysprice.ltc}</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"history--section__box__inner\">\n                        <h4>{this.state.threedaysprice.date}</h4>\n                        <div className=\"columns\">\n                            <div className=\"column\">\n                                <p>1 BTC = ${this.state.threedaysprice.btc}</p>\n                            </div>\n                            <div className=\"column\">\n                                <p>1 ETH = ${this.state.threedaysprice.eth}</p>\n                            </div>\n                            <div className=\"column\">\n                                <p>1 LTC = ${this.state.threedaysprice.ltc}</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"history--section__box__inner\">\n                        <h4>{this.state.fourdaysprice.date}</h4>\n                        <div className=\"columns\">\n                            <div className=\"column\">\n                                <p>1 BTC = ${this.state.fourdaysprice.btc}</p>\n                            </div>\n                            <div className=\"column\">\n                                <p>1 ETH = ${this.state.fourdaysprice.eth}</p>\n                            </div>\n                            <div className=\"column\">\n                                <p>1 LTC = ${this.state.fourdaysprice.ltc}</p>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        )\n    }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}